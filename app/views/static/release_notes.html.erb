<div class="container">
  <h1><strong>Poznámky k zmenám funkcionality a štruktúry dát</strong></h1>
  <div class="long-text">
    <h2 class="anchorable">Zmena k 3. 12. 2020</h2>
    <h3>Autoform API</h3>
    <h4>Pridaný objekt <code>main_economic_activity</code></h4>
    <ul>
      <li>Pridaný atribút <code>code: integer</code></li>
      <li>Pridaný atribút <code>name: string</code></li>
    </ul>
    <h4>Pridaný objekt <code>statutory_bodies</code></h4>
    <ul>
      <li>Štruktúra a dáta zhodné s objektom
        <code>statutory</code>, ktorý je deprecated a v blízkej budúcnosti bude odstránený.
      </li>
    </ul>

    <h2 class="anchorable">Zmena k 25. 10. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/rpo/organizations/:id</code></h4>
    <ul>
      <li>
        Zmenený objekt <code>statutory_entries</code>
        <ul>
          <li>Pridaný atribút <code>statutory_body_member: string, null</code></li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>rpo.organization_statutory_entries</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>statutory_body_member: varchar, NULL</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 4. 8. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/ruz/accounting_entities/:id</code></h4>
    <ul>
      <li>
        Zmenený objekt <code>legal_form</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>sk_nace_category</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>organization_size</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>ownership_type</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>ruz.legal_forms</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>ruz.sk_nace_categories</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>ruz.organization_sizes</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>ruz.ownership_types</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 24. 6. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/rpo/organizations/:id</code></h4>
    <ul>
      <li>
        Zmenený objekt <code>statutory_entries</code>
        <ul>
          <li>Odstránený objekt <code>stakeholder_type</code></li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>rpo.organization_statutory_entries</code></h4>
    <ul>
      <li>Odstránený stĺpec <code>stakeholder_type_id</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 23. 6. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/ruz/accounting_entities/:id</code></h4>
    <ul>
      <li>
        Zmenený objekt <code>region</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>district</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>municipality</code>
        <ul>
          <li>Pridaný atribút <code>code: string</code></li>
          <li>Zmenený atribút <code>parent_id: integer, null</code> &rarr; <code>district_id: integer</code></li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>ruz.regions</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>ruz.districts</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>ruz.municipalities</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>code: varchar</code></li>
      <li>Zmenený stĺpec <code>parent_id: bigint, NULL</code> &rarr; <code>district_id: bigint</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 12. 6. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenené endpointy <code>api/datahub/corporate_bodies/*</code></h4>
    <ul>
      <li>Pridaný nepovinný parameter <code>expand=rpo_organizations</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 10. 6. 2020</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/rpo/organizations/:id</code></h4>
    <ul>
      <li>
        Zmenený objekt <code>statutory_entries</code>
        <ul>
          <li>
            Pridaný objekt <code>statutory_type, null</code>
            <ul>
              <li>Pridaný atribút <code>id: integer</code></li>
              <li>Pridaný atribút <code>name: string</code></li>
              <li>Pridaný atribút <code>created_at: timestamp</code></li>
              <li>Pridaný atribút <code>updated_at: timestamp</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Pridaná tabuľka <code>rpo.statutory_types</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>id: bigint</code></li>
      <li>Pridaný stĺpec <code>name: varchar</code></li>
      <li>Pridaný stĺpec <code>created_at: timestamp</code></li>
      <li>Pridaný stĺpec <code>updated_at: timestamp</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_statutory_entries</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>statutory_type_id: bigint, NULL</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 16. 1. 2020</h2>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>vvo.notice_suppliers</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>cin_raw: varchar, NULL</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 13. 8. 2019</h2>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>upvs.public_authority_edesks</code></h4>
    <ul>
      <li>Odstránený stĺpec <code>street</code></li>
      <li>Odstránený stĺpec <code>street_number</code></li>
      <li>Odstránený stĺpec <code>postal_code</code></li>
      <li>Odstránený stĺpec <code>city</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 18. 2. 2019</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/fs/vat_subjects/:id</code></h4>
    <ul>
      <li>Odstránený atribút <code>address</code></li>
      <li>Odstránený atribút <code>paragraph</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 4. 2. 2019</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/fs/vat_subjects/:id</code></h4>
    <ul>
      <li>Pridaný atribút <code>cin: integer, null</code></li>
      <li>Pridaný atribút <code>street: string, null</code></li>
      <li>Pridaný atribút <code>country: string, null</code></li>
      <li>Pridaný atribút <code>registration_kind: string, null</code></li>
      <li>Pridaný atribút <code>registration_kind_updated_on: date, null</code></li>
      <li>Pridaný atribút <code>registered_on: date, null</code></li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>fs.vat_subjects</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>cin: bigint, NULL</code></li>
      <li>Pridaný stĺpec <code>country: varchar, NULL</code></li>
      <li>Pridaný stĺpec <code>registration_kind_updated_on: date, NULL</code></li>
      <li>Pridaný stĺpec <code>registered_on: date, NULL</code></li>
      <li>Premenovaný stĺpec <code>address</code> &rarr; <code>street</code></li>
      <li>Premenovaný stĺpec <code>paragraph</code> &rarr; <code>registration_kind</code></li>
    </ul>

    <h2 class="anchorable">Zmena k 24. 9. 2018</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/rpo/organizations/:id</code></h4>
    <ul>
      <li>Odstránený atribút <code>registration_office</code></li>
      <li>Odstránený atribút <code>registration_number</code></li>
      <li>
        Zmenený objekt <code>deposit_entries</code>
        <ul>
          <li>Odstránený atribút <code>person_given_name</code></li>
          <li>Odstránený atribút <code>person_family_name</code></li>
          <li>Odstránený atribút <code>person_given_family_name</code></li>
          <li>Zmenený atribút <code>person_prefixes: string</code> &rarr; <code>person_prefixes: array</code></li>
          <li>Zmenený atribút <code>person_postfixes: string</code> &rarr; <code>person_postfixes: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>stakeholder_entries</code>
        <ul>
          <li>Odstránený atribút <code>ico</code></li>
          <li>Odstránený atribút <code>person_given_name</code></li>
          <li>Odstránený atribút <code>person_family_name</code></li>
          <li>Odstránený atribút <code>person_given_family_name</code></li>
          <li>Zmenený atribút <code>person_prefixes: string</code> &rarr; <code>person_prefixes: array</code></li>
          <li>Zmenený atribút <code>person_postfixes: string</code> &rarr; <code>person_postfixes: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>statutory_entries</code>
        <ul>
          <li>Odstránený atribút <code>ico</code></li>
          <li>Odstránený atribút <code>person_given_name</code></li>
          <li>Odstránený atribút <code>person_family_name</code></li>
          <li>Odstránený atribút <code>person_given_family_name</code></li>
          <li>Zmenený atribút <code>person_prefixes: string</code> &rarr; <code>person_prefixes: array</code></li>
          <li>Zmenený atribút <code>person_postfixes: string</code> &rarr; <code>person_postfixes: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>predecessor_entries</code>
        <ul>
          <li>Odstránený atribút <code>ico</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>successor_entries</code>
        <ul>
          <li>Odstránený atribút <code>ico</code></li>
        </ul>
      </li>
    </ul>

    <h2 class="anchorable">Zmena k 10. 9. 2018</h2>
    <h3>Otvorené API</h3>
    <h4>Zmenený endpoint <code>api/data/rpo/organizations/:id</code></h4>
    <ul>
      <li>
        Pridaný objekt <code>registration_office_entries: array</code>
      </li>
      <li>
        Zmenený objekt <code>registration_number_entries</code>
        <ul>
          <li>Pridaný atribút <code>effective_to: date, null</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>deposit_entries</code>
        <ul>
          <li>Pridaný atribút <code>person_given_names: array</code></li>
          <li>Pridaný atribút <code>person_family_names: array</code></li>
          <li>Pridaný atribút <code>person_given_family_names: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>stakeholder_entries</code>
        <ul>
          <li>Pridaný atribút <code>cin: integer, null</code></li>
          <li>Pridaný atribút <code>person_given_names: array</code></li>
          <li>Pridaný atribút <code>person_family_names: array</code></li>
          <li>Pridaný atribút <code>person_given_family_names: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>statutory_entries</code>
        <ul>
          <li>Pridaný atribút <code>cin: integer, null</code></li>
          <li>Pridaný atribút <code>person_given_names: array</code></li>
          <li>Pridaný atribút <code>person_family_names: array</code></li>
          <li>Pridaný atribút <code>person_given_family_names: array</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>predecessor_entries</code>
        <ul>
          <li>Pridaný atribút <code>cin: integer, null</code></li>
        </ul>
      </li>
      <li>
        Zmenený objekt <code>successor_entries</code>
        <ul>
          <li>Pridaný atribút <code>cin: integer, null</code></li>
        </ul>
      </li>
    </ul>
    <h3>Otvorené dáta</h3>
    <h4>Zmenená tabuľka <code>rpo.organizations</code></h4>
    <ul>
      <li>Odstránený stĺpec <code>registration_office</code></li>
      <li>Odstránený stĺpec <code>registration_number</code></li>
    </ul>
    <h4>Pridaná tabuľka <code>rpo.organization_registration_office_entries</code></h4>
    <h4>Zmenená tabuľka <code>rpo.organization_registration_number_entries</code></h4>
    <ul>
      <li>Pridaný stĺpec <code>effective_to: date, NULL</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_deposit_entries</code></h4>
    <ul>
      <li>Zmenený stĺpec <code>person_given_name: varchar</code> &rarr; <code>person_given_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_family_name: varchar</code> &rarr; <code>person_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_given_family_name: varchar</code> &rarr; <code>person_given_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_prefixes: varchar</code> &rarr; <code>person_prefixes: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_postfixes: varchar</code> &rarr; <code>person_postfixes: varchar[]</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_stakeholder_entries</code></h4>
    <ul>
      <li>Premenovaný stĺpec <code>ico</code> &rarr; <code>cin</code></li>
      <li>Zmenený stĺpec <code>person_given_name: varchar</code> &rarr; <code>person_given_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_family_name: varchar</code> &rarr; <code>person_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_given_family_name: varchar</code> &rarr; <code>person_given_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_prefixes: varchar</code> &rarr; <code>person_prefixes: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_postfixes: varchar</code> &rarr; <code>person_postfixes: varchar[]</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_statutory_entries</code></h4>
    <ul>
      <li>Premenovaný stĺpec <code>ico</code> &rarr; <code>cin</code></li>
      <li>Zmenený stĺpec <code>person_given_name: varchar</code> &rarr; <code>person_given_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_family_name: varchar</code> &rarr; <code>person_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_given_family_name: varchar</code> &rarr; <code>person_given_family_names: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_prefixes: varchar</code> &rarr; <code>person_prefixes: varchar[]</code></li>
      <li>Zmenený stĺpec <code>person_postfixes: varchar</code> &rarr; <code>person_postfixes: varchar[]</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_predecessor_entries</code></h4>
    <ul>
      <li>Premenovaný stĺpec <code>ico</code> &rarr; <code>cin</code></li>
    </ul>
    <h4>Zmenená tabuľka <code>rpo.organization_successor_entries</code></h4>
    <ul>
      <li>Premenovaný stĺpec <code>ico</code> &rarr; <code>cin</code></li>
    </ul>
  </div>
</div>
